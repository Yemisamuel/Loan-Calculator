    <!doctype html>
    <html lang="en">
    <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <title>Loan Calculator</title>
    </head>

    <body class="bg-dark">

        <style>
            #loader, #third{
                display:none;
            }
        </style>

        <div class="container">
            <div class="row">
            <div class="col-md-6 mx-auto">
            <div class="card card-body text-center mt-5">
            <h1 class="heading display-5 pb-3"> Loan Calculator</h1>

            <form class="loan-form">
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class= "input-group-text">$</span>
                    </div>
                    <input  class="form-control amount"  placeholder="Amount">
                </div>
            </div>

            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class= "input-group-text">%</span>
                    </div>
                    <input class="form-control interest"  placeholder="Interest">
                    
                </div>
            </div>

            <div class="form-group">
                <div class="input-group">  
                    <input class="form-control years"  placeholder="Years To Repay">
                </div>
            </div>

            <div class="form-group">  
                    <input type="submit" value="Calculate" class="btn btn-dark btn-block">
            </div>
               
            </form>
            <div id="loader">
                <img src="/img/loading.gif" >
            </div> 
        <div id="result">
            <h3 class=" display-5 mt-4 pb-3"> Result</h3>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class= "input-group-text">Monthly Payment</span>
                    </div>
                    <input type ="number" class="form-control monthly-payment"  disabled>
                </div>
            </div>

            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class= "input-group-text">Total Payment</span>
                    </div>
                    <input type ="number" class="form-control total-payment "  disabled>
                </div>
            </div>

            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class= "input-group-text">Total Interest</span>
                    </div>
                <input type ="number" class="form-control  total-interest"  disabled>
                </div>
            </div>

        </div>
            </div>
            </div>
        </div>
     </div>
     
<script>
   const form = document.querySelector('.loan-form');

   loadEventListener();

   function loadEventListener(){
     form.addEventListener('submit', function load(e){

        document.getElementById('result').style.display = 'none'
        document.getElementById('loader').style.display = 'block'

        setTimeout(calculateResults, 2000);

        e.preventDefault()
     } );
   }

   function calculateResults(){
    console.log('Ready!')

    const amount = document.querySelector('.amount')
    const interest = document.querySelector('.interest')
    const years = document.querySelector('.years')
    const monthlyPayment = document.querySelector('.monthly-payment')
    const totalPayment = document.querySelector('.total-payment')
    const totalInterest = document.querySelector('.total-interest')

    const principal = parseFloat(amount.value)
    const calculatedInterest = parseFloat(interest.value) / 100 / 12
    const calculatedPayment = parseFloat(years.value) * 12

    const x = Math.pow(1 + calculatedInterest, calculatedPayment);
    const monthly = (principal*x*calculatedInterest)/(x-1);

    if(isFinite(monthly)){
        monthlyPayment.value = monthly.toFixed(2)
        totalPayment.value = (monthly * calculatedPayment).toFixed(2)
        totalInterest.value =  ((monthly * calculatedPayment)-principal).toFixed(2)

        document.getElementById('result').style.display = 'block'
        document.getElementById('loader').style.display = 'none'
    }
    else{
       

     
      function showError(error){

        document.getElementById('result').style.display = 'none'
        document.getElementById('loader').style.display = 'none'
        const errorDiv = document.createElement('div');

        const card = document.querySelector('.card')
        const heading = document.querySelector('.heading')

        errorDiv.className = 'alert alert-danger';
        errorDiv.appendChild(document.createTextNode(error));

        card.insertBefore(errorDiv, heading);

        setTimeout(clearErr, 3000)

      }
      showError('fill the the input');
      function clearErr(){
        document.querySelector('.alert').remove()
      }
    }
   }
</script>
    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>


  </body>
</html>